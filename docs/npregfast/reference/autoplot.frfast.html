<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visualization of <code>frfast</code> objects with ggplot2 graphics — autoplot.frfast • npregfast</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Visualization of <code>frfast</code> objects with ggplot2 graphics — autoplot.frfast" />

<meta property="og:description" content="Useful for drawing the estimated regression function, 
first and second derivative (for each factor's level) using ggplot2 graphics.
 Additionally, with the 
diffwith argument it is possible to draw the differences between
 two factor's levels." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">npregfast</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.5.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualization of <code>frfast</code> objects with ggplot2 graphics</h1>
    
    <div class="hidden name"><code>autoplot.frfast.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Useful for drawing the estimated regression function, 
first and second derivative (for each factor's level) using ggplot2 graphics.
 Additionally, with the 
<code>diffwith</code> argument it is possible to draw the differences between
 two factor's levels.</p>
    
    </div>

    <pre class="usage"><span class='co'># S3 method for frfast</span>
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='kw'>object</span> <span class='kw'>=</span> <span class='no'>model</span>, <span class='kw'>fac</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>der</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>diffwith</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>points</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='no'>model</span>$<span class='no'>name</span>[<span class='fl'>2</span>],
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='no'>model</span>$<span class='no'>name</span>[<span class='fl'>1</span>], <span class='kw'>ylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>"black"</span>,
  <span class='kw'>CIcol</span> <span class='kw'>=</span> <span class='st'>"black"</span>, <span class='kw'>CIlinecol</span> <span class='kw'>=</span> <span class='st'>"transparent"</span>, <span class='kw'>pcol</span> <span class='kw'>=</span> <span class='st'>"grey80"</span>,
  <span class='kw'>abline</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>ablinecol</span> <span class='kw'>=</span> <span class='st'>"red"</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>CIlty</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>CIlwd</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>cex</span> <span class='kw'>=</span> <span class='fl'>1.4</span>, <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.2</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p><code>frfast</code> object.</p></td>
    </tr>
    <tr>
      <th>fac</th>
      <td><p>Factor's level to be taken into account
in the plot. By default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>der</th>
      <td><p>Number which determines any inference process. 
By default <code>der</code> is <code>0</code>. If this term is <code>0</code>, the plot 
shows the initial estimate. If it is <code>1</code> or <code>2</code>,
it is designed for the first or second derivative, respectively.</p></td>
    </tr>
    <tr>
      <th>diffwith</th>
      <td><p>Factor's level used for drawing the differences respect to the 
level specified in the <code>fac</code> argument.  By default, <code>NULL</code>. 
The differences are computed for the r-th derivative specified 
in the <code>der</code> argument.</p></td>
    </tr>
    <tr>
      <th>points</th>
      <td><p>Draw the original data into the plot. By default it is
<code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>A title for the <code>x</code> axis.</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>A title for the <code>y</code> axis.</p></td>
    </tr>
    <tr>
      <th>ylim</th>
      <td><p>The <code>y</code> limits of the plot.</p></td>
    </tr>
    <tr>
      <th>main</th>
      <td><p>An overall title for the plot.</p></td>
    </tr>
    <tr>
      <th>col</th>
      <td><p>A specification for the default plotting color.</p></td>
    </tr>
    <tr>
      <th>CIcol</th>
      <td><p>A specification for the default confidence intervals
plotting color (for the fill).</p></td>
    </tr>
    <tr>
      <th>CIlinecol</th>
      <td><p>A specification for the default confidence intervals
plotting color (for the edge).</p></td>
    </tr>
    <tr>
      <th>pcol</th>
      <td><p>A specification for the points color.</p></td>
    </tr>
    <tr>
      <th>abline</th>
      <td><p>Draw an horizontal line into the plot of the second derivative 
of the model.</p></td>
    </tr>
    <tr>
      <th>ablinecol</th>
      <td><p>The color to be used for <code>abline</code>.</p></td>
    </tr>
    <tr>
      <th>lty</th>
      <td><p>The line type. Line types can either be specified as an integer
(0 = blank, 1 = solid (default), 2 = dashed, 3 = dotted, 4 = dotdash, 
5 = longdash, 6 = twodash).  See details in <code>par</code>.</p></td>
    </tr>
    <tr>
      <th>CIlty</th>
      <td><p>The line type for confidence intervals. Line types can either 
be specified as an integer (0 = blank, 1 = solid (default), 2 = dashed,
3 = dotted, 4 = dotdash, 5 = longdash, 6 = twodash).</p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>The line width, a positive number, defaulting to 1.
See details in <code>par</code>.</p></td>
    </tr>
    <tr>
      <th>CIlwd</th>
      <td><p>The line width for confidence intervals, a positive number, 
defaulting to 1.</p></td>
    </tr>
    <tr>
      <th>cex</th>
      <td><p>A numerical value giving the amount by which plotting symbols
should be magnified relative to the default. See details in <code>par</code>.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>Alpha transparency for overlapping elements expressed 
as a fraction between 0 (complete transparency) and 1 (complete opacity).</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Other options.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot object, so you can use common features from 
ggplot2 package to manipulate the plot.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>library</span>(<span class='no'>npregfast</span>)
<span class='fu'>library</span>(<span class='no'>ggplot2</span>)


<span class='fu'>data</span>(<span class='no'>barnacle</span>)

<span class='co'># Nonparametric regression without interactions</span>
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='frfast.html'>frfast</a></span>(<span class='no'>DW</span> ~ <span class='no'>RC</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>barnacle</span>, <span class='kw'>nboot</span> <span class='kw'>=</span> <span class='fl'>50</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>fit</span>)</div><div class='img'><img src='autoplot.frfast-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>fit</span>, <span class='kw'>points</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>) + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>ggtitle</a></span>(<span class='st'>"Title"</span>)</div><div class='img'><img src='autoplot.frfast-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>fit</span>, <span class='kw'>der</span> <span class='kw'>=</span> <span class='fl'>1</span>) + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/lims'>xlim</a></span>(<span class='fl'>4</span>, <span class='fl'>20</span>)</div><div class='img'><img src='autoplot.frfast-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'>#autoplot(fit, der = 1, col = "red", CIcol = "blue")</span>

<span class='co'># Nonparametric regression with interactions</span>
<span class='no'>fit2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='frfast.html'>frfast</a></span>(<span class='no'>DW</span> ~ <span class='no'>RC</span> : <span class='no'>F</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>barnacle</span>, <span class='kw'>nboot</span> <span class='kw'>=</span> <span class='fl'>50</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>fit2</span>, <span class='kw'>fac</span> <span class='kw'>=</span> <span class='st'>"barca"</span>)</div><div class='img'><img src='autoplot.frfast-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='co'># autoplot(fit2, der = 1, fac = "lens")</span>

<span class='co'># Visualization of the differences between two factor's levels</span>
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>fit2</span>, <span class='kw'>fac</span> <span class='kw'>=</span> <span class='st'>"barca"</span>, <span class='kw'>diffwith</span> <span class='kw'>=</span> <span class='st'>"lens"</span>)</div><div class='img'><img src='autoplot.frfast-5.png' alt='' width='700' height='433' /></div><div class='input'># autoplot(fit2, der = 1, fac = "barca", diffwith = "lens")


#Plotting in the same graphics device
</div><span class='co'># NOT RUN {</span>
<span class='kw'>if</span> (<span class='fu'>requireNamespace</span>(<span class='st'>"gridExtra"</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) {

<span class='co'># For plotting two derivatives in the same graphic windows</span>
<span class='no'>ders</span> <span class='kw'>&lt;-</span> <span class='fu'>lapply</span>(<span class='fl'>0</span>:<span class='fl'>1</span>, <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>fit</span>, <span class='kw'>der</span> <span class='kw'>=</span> <span class='no'>x</span>))
<span class='kw pkg'>gridExtra</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/gridExtra/topics/arrangeGrob'>grid.arrange</a></span>(<span class='kw'>grobs</span> <span class='kw'>=</span> <span class='no'>ders</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='co'># For plotting two levels in the same graphic windows</span>
<span class='no'>facs</span> <span class='kw'>&lt;-</span> <span class='fu'>lapply</span>(<span class='fu'>c</span>(<span class='st'>"barca"</span>, <span class='st'>"lens"</span>), <span class='kw'>function</span>(<span class='no'>x</span>) <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>fit2</span>, <span class='kw'>der</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>fac</span> <span class='kw'>=</span> <span class='no'>x</span>))
<span class='kw pkg'>gridExtra</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/gridExtra/topics/arrangeGrob'>grid.arrange</a></span>(<span class='kw'>grobs</span> <span class='kw'>=</span> <span class='no'>facs</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>1</span>)

}

<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Marta Sestelo, Nora M. Villanueva and Javier Roca-Pardinas.

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Marta Sestelo, Nora M. Villanueva, Javier Roca-Pardinas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

